{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "New project",
  "architectural_notes": [],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-update-the-android-apk-download-dialog-frontend-src-components-apk-androidapkdialog-tsx-so-the-download-action-remains-disabled-for-missing-invalid-unreachable-apks-and-user-facing-guidance-clearly-states-the-hosted-file-is-missing-invalid-and-must-be-replaced-with-a-signed-universal-apk-built-via-bubblewrap-english-text-only",
      "title": "Update the Android APK download dialog (`frontend/src/components/apk/AndroidApkDialog.tsx`) so the Download action remains disabled for missing/invalid/unreachable APKs, and user-facing guidance clearly states the hosted file is missing/invalid and must be replaced with a signed universal APK built via Bubblewrap (English text only).",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Stop shipping an invalid placeholder APK at `frontend/public/downloads/app.apk` by removing the placeholder file from deployed assets so `/downloads/app.apk` returns 404 until a real signed universal APK is provided.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Ensure the asset canister serves APK files with the correct `Content-Type` and strict no-cache headers for `/downloads/app.apk`, including when the URL includes cache-busting query parameters used by the UI availability checks.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Harden frontend APK validation in `frontend/src/hooks/useApkAvailability.ts` so it reliably detects placeholders and error pages even when `Content-Length` is missing or misleading, by performing a small byte-range GET and verifying the APK/ZIP signature (`PK\\x03\\x04`).",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Fix APK download by removing placeholder and ensuring reliable APK availability detection",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}
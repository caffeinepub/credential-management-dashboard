// IC Asset Canister Configuration
// This file configures how static assets are served by the Internet Computer asset canister
[
  {
    // Serve APK files with correct content-type and strict no-cache headers
    // This pattern matches /downloads/app.apk regardless of query parameters
    "match": "downloads/app.apk",
    "headers": {
      "Content-Type": "application/vnd.android.package-archive",
      "Cache-Control": "no-cache, no-store, must-revalidate",
      "Pragma": "no-cache",
      "Expires": "0"
    }
  },
  {
    // Also match any APK files in the downloads directory for future flexibility
    "match": "downloads/*.apk",
    "headers": {
      "Content-Type": "application/vnd.android.package-archive",
      "Cache-Control": "no-cache, no-store, must-revalidate",
      "Pragma": "no-cache",
      "Expires": "0"
    }
  },
  {
    // Default configuration for all other assets
    "match": "**/*",
    "headers": {
      "Cache-Control": "public, max-age=31536000, immutable"
    }
  }
]
